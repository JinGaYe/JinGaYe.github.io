(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{640:function(t,s,n){"use strict";n.r(s);var a=n(9),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#_1-安装-nodejs-1"}},[t._v("1. 安装 nodejs[^1]")])]),n("li",[n("a",{attrs:{href:"#_2-安装-git-2"}},[t._v("2. 安装 git[^2]")])]),n("li",[n("a",{attrs:{href:"#_3-hexo-cli"}},[t._v("3. hexo-cli")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-安装-hexo-cli"}},[t._v("(1). 安装 hexo-cli")])]),n("li",[n("a",{attrs:{href:"#_2-配置-hexo-3"}},[t._v("(2). 配置 hexo[^3]")])])])]),n("li",[n("a",{attrs:{href:"#_4-添加一些功能"}},[t._v("4. 添加一些功能")])]),n("li",[n("a",{attrs:{href:"#_5-部署到服务器上"}},[t._v("5. 部署到服务器上")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-安装-nginx"}},[t._v("(1). 安装 nginx")])]),n("li",[n("a",{attrs:{href:"#_2-配置-nginx"}},[t._v("(2). 配置 nginx")])]),n("li",[n("a",{attrs:{href:"#_3-安装-pm2-模块"}},[t._v("(3). 安装 pm2 模块")])]),n("li",[n("a",{attrs:{href:"#_4-安装-hexo-admin"}},[t._v("(4). 安装 hexo-admin")])])])]),n("li",[n("a",{attrs:{href:"#_6-部署到-github-5"}},[t._v("6. 部署到 github[^5]")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-安装插件并配置"}},[t._v("(1). 安装插件并配置")])]),n("li",[n("a",{attrs:{href:"#_2-配置-github-并部署"}},[t._v("(2). 配置 github 并部署")])])])]),n("li",[n("a",{attrs:{href:"#_7-提交给搜索引擎-以下是各搜索引擎对应的站点提交入口】"}},[t._v("7. 提交给搜索引擎 [^ 以下是各搜索引擎对应的站点提交入口】")])])])]),n("p"),t._v(" "),n("p",{staticStyle:{"font-size":"18px"}},[t._v("  小伙伴们，大家好丫，经过几天的折腾，总算把我的博客页面弄得差不多啦。虽然加载速度还是有点抱歉，但整体上已经有模有样啦，O(∩_∩)O。今天的话，就来梳理一下从无到有如何搭出来一个博客，技术有限，也请大家多多指正哈。"),n("br"),t._v("\n   如果你没有自己服务器的话，而且只是弄着玩玩，不怎么经常性去维护的话，可以考虑部署到 github 或者 coding 呢，这里暂时只讲部署到 github，coding 类似。如果你有自己的服务器，并且想更多推广出去的话，那可就要好好多打理啦。本文采用的主要是 hexo 来搭建。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("内容")]),t._v(" "),n("th",[t._v("版本")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("本地系统")]),t._v(" "),n("td",[t._v("ubuntu 18.04 LTS")])]),t._v(" "),n("tr",[n("td",[t._v("服务器")]),t._v(" "),n("td",[t._v("腾讯云 ( 已转至 github.io )")])]),t._v(" "),n("tr",[n("td",[t._v("服务器系统")]),t._v(" "),n("td",[t._v("ubuntu 16.04 LTS")])]),t._v(" "),n("tr",[n("td",[t._v("域名")]),t._v(" "),n("td",[t._v("jarrychen.xyz（已备案）")])]),t._v(" "),n("tr",[n("td",[t._v("nginx")]),t._v(" "),n("td",[t._v("1.10.3")])]),t._v(" "),n("tr",[n("td",[t._v("nodejs")]),t._v(" "),n("td",[t._v("10.16.3")])]),t._v(" "),n("tr",[n("td",[t._v("npm")]),t._v(" "),n("td",[t._v("6.12.1")])]),t._v(" "),n("tr",[n("td",[t._v("提交搜索引擎")]),t._v(" "),n("td",[n("a",{attrs:{href:"https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&rsv_idx=2&tn=baiduhome_pg&wd=site%3Ajarrychen.xyz&rsv_spt=1&oq=%25E7%2599%25BE%25E5%25BA%25A6%25E7%25BB%259F%25E8%25AE%25A1&rsv_pq=9dafc3aa0002fca4&rsv_t=0ddfkHzIqhl3%2BN6V5qV0gls%2FPDVK7DLgl30oIz8osUy0R6VaMYD%2BahaD8BTP2VAqjmbx&rqlang=cn&rsv_enter=1&rsv_dl=tb&rsv_sug3=18&rsv_sug1=5&rsv_sug7=100&rsv_sug2=0&inputT=3364&rsv_sug4=3365",target:"_blank",rel:"noopener noreferrer"}},[t._v("Baidu"),n("OutboundLink")],1),t._v("，"),n("a",{attrs:{href:"https://www.google.com/search?hl=zh_CN&sxsrf=ACYBGNQRECzMx236Pn9JF5wagOvNoygYzA%3A1576169416386&source=hp&ei=yG_yXZK5FYXr-Qa95a6wCQ&q=site%3Ajarrychen.xyz&oq=s&gs_l=psy-ab.3.0.35i39l3j0j0i131l3j0l3.300.1476..2236...3.0..0.138.276.0j2......0....1..gws-wiz.....10..35i362i39j0i67.FlsqzFyOQII",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google"),n("OutboundLink")],1),t._v("，搜狗，360，"),n("a",{attrs:{href:"https://search.naver.com/search.naver?sm=top_hty&fbm=1&ie=utf8&query=site%3Ajarrychen.xyz",target:"_blank",rel:"noopener noreferrer"}},[t._v("Naver"),n("OutboundLink")],1),t._v("，"),n("a",{attrs:{href:"https://cn.bing.com/search?q=site%3Ajarrychen.xyz&qs=n&form=QBRE&sp=-1&pq=site%3Ajarrychen.xyz&sc=1-18&sk=&cvid=895351CDF043429D8A5A753123E178F3",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bing"),n("OutboundLink")],1),t._v("，"),n("a",{attrs:{href:"https://yandex.com/search/?text=site%3Ajarrychen.xyz&lr=21098",target:"_blank",rel:"noopener noreferrer"}},[t._v("Yandex"),n("OutboundLink")],1),t._v("，神马")])])])]),t._v(" "),n("p",{staticStyle:{"font-size":"16px",color:"blue"}},[t._v("  以下内容如果是用sudo apt-get install的话，缺少依赖时应先运行sudo apt-get update，其他的内容后续想到再补充。")]),t._v(" "),n("h3",{attrs:{id:"_1-安装-nodejs-1"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-nodejs-1"}},[t._v("#")]),t._v(" 1. 安装 nodejs[^1]")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("// 此处采用的是源码安装，需要时间较久\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /data\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" nodejs\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" nodejs\t//进入到你要放nodejs压缩包的地方，eg: /data/nodejs\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://nodejs.org/dist/v10.14.2/node-v10.14.2.tar.gz\n//版本号详细可上官网看，建议下载最近且稳定的版本，可以避免不少坑\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxvf node-v10.14.2.tar.gz\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" node-v10.14.2\n./configure\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\t//较久\nnode -v\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" -v\t\t//此为验证是否安装成功\n// 若要npm比较稳定\n// "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g n\n// "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" n stable\n")])])]),n("h3",{attrs:{id:"_2-安装-git-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装-git-2"}},[t._v("#")]),t._v(" 2. 安装 git[^2]")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v("  //一句命令即可\n")])])]),n("h3",{attrs:{id:"_3-hexo-cli"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-hexo-cli"}},[t._v("#")]),t._v(" 3. hexo-cli")]),t._v(" "),n("h4",{attrs:{id:"_1-安装-hexo-cli"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-hexo-cli"}},[t._v("#")]),t._v(" (1). 安装 hexo-cli")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("//需要使用npm来安装该模块\n//但npm有时安装包可能卡住或者因为被墙了下载不下来，推荐换成国内的镜像\n//此处采用的是taobao的\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" config "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" registry https://registry.npm.taobao.org\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g hexo-cli\t//安装hexo脚手架\nhexo -v //验证是否安装成功\n\n//然后找一个你喜欢的文件夹\nhexo init yourBlog\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" yourBlog\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\t//先安装一些初始必要的依赖\n\nhexo clean\t//清除已经生成的页面\nhexo g\t//生成静态页面\nhexo s\t//运行hexo\nhexo d\t//部署，需先配置好部署地方\n")])])]),n("ul",{staticStyle:{"font-size":"16px"}},[n("li",[t._v("node_modules: 依赖包")]),t._v(" "),n("li",[t._v("scaffolds：生成文章的一些模板 ")]),t._v(" "),n("li",[t._v("source：用来存放你的文章  ")]),t._v(" "),n("li",[t._v("themes：主题  ")]),t._v(" "),n("li",[t._v("_config.yml: 框架的配置文件")])]),t._v(" "),n("h4",{attrs:{id:"_2-配置-hexo-3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置-hexo-3"}},[t._v("#")]),t._v(" (2). 配置 hexo[^3]")]),t._v(" "),n("p",{staticStyle:{"font-size":"16px"}},[t._v("  安装完毕后的主题默认是landscape，如果你不喜欢的话，可以上"),n("a",{attrs:{href:"https://hexo.io/themes/",target:"_blank",rel:"external nofollow"}},[n("b",{staticStyle:{color:"#0cc"}},[t._v("这里")])]),t._v("查阅有什么主题，我采用的是Sakura主题。"),n("br"),t._v("\n   基础的配置可以查看下方主题设计者的文档")]),t._v(" "),n("p",[n("ul",{staticStyle:{"font-size":"16px"}},[n("li",[t._v("Sakura中文文档[^4]")])])]),t._v(" "),n("hr"),t._v(" "),n("h3",{attrs:{id:"_4-添加一些功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-添加一些功能"}},[t._v("#")]),t._v(" 4. 添加一些功能")]),t._v(" "),n("p",[n("ul",{staticStyle:{"font-size":"16px","list-style-type":"decimal"}},[n("li",[t._v("标签云")]),t._v(" "),n("li",[t._v("播放器")]),t._v(" "),n("li",[t._v("访问统计")]),t._v(" "),n("li",[t._v("计算字数与阅读时间")]),t._v(" "),n("li",[t._v("live2d")]),t._v(" "),n("li",[t._v("推荐阅读")]),t._v(" "),n("li",[t._v("mathjax支持数学公式")]),t._v(" "),n("li",[t._v("打赏")])])]),t._v(" "),n("hr"),t._v(" "),n("h3",{attrs:{id:"_5-部署到服务器上"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-部署到服务器上"}},[t._v("#")]),t._v(" 5. 部署到服务器上")]),t._v(" "),n("h4",{attrs:{id:"_1-安装-nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-nginx"}},[t._v("#")]),t._v(" (1). 安装 nginx")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("//为了方便和快一点，这里采用的是apt-get安装，不采取源码安装\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nginx\n\n//按y执行安装过程，若报缺少依赖，则\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nginx\n\n//即可\n//安装完毕后，浏览器输入云主机ip看到nginx欢迎页面即成功\n")])])]),n("h4",{attrs:{id:"_2-配置-nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置-nginx"}},[t._v("#")]),t._v(" (2). 配置 nginx")]),t._v(" "),n("p",{staticStyle:{"font-size":"16px"}},[t._v("  这一步比较琐碎，包括设置项目的根目录，配置http跳转https，自定义404页面，gzip压缩提高加载速度等等。不过在进行这些之前，最关键的前置步骤是需要有一个可以用的域名，指已备案，且添加解析记录到你的云主机，并且申请ssl证书上传到服务器中。")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("//进行了前面这些操作后\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /etc/nginx  //进入nginx的安装目录\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" conf.d\t//在此处创建ssl.conf配置http跳转https\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" ssl.conf\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" ssl.conf  //此处根据自己的域名证书所在的路径，对下面eg进行替换\n\ne.g：\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tlisten "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tserver_name domainname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\trewrite ^"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ https://"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${server_name}")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" permanent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    //这里是设置跳转最重要的地方，重定向到https上\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\t\t//https的配置\n\tlisten "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),t._v(" ssl http2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    server_name domainname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ssl on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ssl_certificate 1_domainname_bundle.crt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ssl_certificate_key 2_domainname.key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ssl_session_timeout 5m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("aNULL:"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("MD5:"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("RC4:"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("DHE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ssl_prefer_server_ciphers on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    location / "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\t//指向项目根目录\n        proxy_redirect off"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tproxy_set_header REMOTE-HOST "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        proxy_set_header Host "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$host")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        proxy_set_header X-Real-IP "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        proxy_set_header X-Forwarded-For "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$proxy_add_x_forwarded_for")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        proxy_pass http://localhost:4000/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t//hexo是在4000端口上运行\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("hr"),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("//https的跳转上面配置完还不可以，还需要配置一处地方\n//在nginx目录中\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" site-available\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" default\n\n//在server中添加\nserver_name localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlocation / "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        root webapproot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t//你的webapp的路径\n        index index.html index.htm index.nginx-debian.html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\ttry_files "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v("/ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n//然后\nnginx -t  //查看是否配置出错\n//没有的话\nnginx -s reload\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" nginx restart\t//输入域名访问即可跳到安全的https\n\n//搞定这个后，剩下的是配置自定义404页面和开启gzip压缩了\n//404这个看个人喜好了，开启gzip压缩是很有必要的，多少能提高加载速度\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /etc/nginx\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" nginx.conf\n\n//配置404,在默认的配置文件中的http里添加这一段\nserver_tokens off"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nproxy_intercept_errors on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n//这里偷懒把所有错误码都定位到404页面了\nerror_page "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("403")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("502")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("503")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("504")]),t._v(" /404.html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nserver "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\tlocation /404.html "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\troot "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),t._v("页面的路径"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n//开启gzip压缩\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("### Gzip Settings ##")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("gzip")]),t._v(" on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t//开启gzip压缩\n\tgzip_disable "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"msie6"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t//针对ie浏览器要设置的\n\tgzip_min_length 1k"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t//最小被压缩长度，小于这个大小的不会被压缩\n\tgzip_vary on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gzip_proxied any;")]),t._v("\n\tgzip_comp_level "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t//压缩力度，越大压缩越厉害但耗性能，这里够用了\n\tgzip_buffers "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" 16k"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tgzip_http_version "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tgzip_types  text/plain text/css application/json\n    application/x-javascript text/xml application/xml\n    application/xml+rss text/javascript image/jpeg\n    image/gif image/png video/mp4 audio/webm video/ogg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t//要压缩的文件格式\n\n")])])]),n("h4",{attrs:{id:"_3-安装-pm2-模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装-pm2-模块"}},[t._v("#")]),t._v(" (3). 安装 pm2 模块")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("//这里安装pm2模块的目的是为了让你的项目持久化运行\n//正常的hexo server，关掉窗口后也就停止运行了\n//所以需要它来帮助运行\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g pm2\t//全局安装\n\n//写一个运行的脚本\nconst "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("exec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child_process'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nexec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hexo s'")]),t._v(","),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error,stdout,stderr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tif"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t    console.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'exec error:"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${error}")]),t._v("'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\tconsole.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stdout:"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${stdout}")]),t._v("'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tconsole.log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stderr:"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${stderr}")]),t._v("'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n//保存为xx.js到你的根目录\n//运行\npm2 start xx.js\n\n//会发现把窗口关掉，去浏览器还是能照常访问\n\n//这里每次运行hexo的几句命令都好麻烦，有没有方法可以减少呢？\n//答案是有的\n//编辑根目录的package.json，修改里面"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script"')]),t._v("部分\n//在其中添加"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build"')]),t._v("字段\n//内容写上\n\nhexo clean "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" hexo g "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" gulp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" hexo d "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" pm2 restart xx.js\n//其中gulp是压缩代码，即把你那些html，js，css代码“丑化”，图片压缩大小\n//分别表示清除已生成，重新生成，压缩，部署，持久化运行\n")])])]),n("h4",{attrs:{id:"_4-安装-hexo-admin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装-hexo-admin"}},[t._v("#")]),t._v(" (4). 安装 hexo-admin")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("//如果你是部署到服务器上，每次上去黑窗口写或者写完再上传都比较麻烦\n//自己懒得做管理端的话，是否有方便的方法来写文呢\n//答案是有的，就是hexo-admin插件\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" yourBlog\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" hexo-admin --save\n\nhexo s\n//输入根目录地址+/admin/即可登录，首次无需输入账号密码\n//这毕竟是一个管理端，总不能让人随便访问\n//找到页面中的settings\n\n//点击下面的 Setup authentification here 。\n//填写用户名，密码，和加密串\n\n//然后把生成的账号，密码，和加密串等信息写到_config.yml配置文件中\n//即在_config.yml中添加\nadmin:\n  username: yourusername\n  password_hash: yourpassword_hash\n  secret: your secret\n  command: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./admin_script/hexo-generate.sh'")]),t._v("\n\n//然后再次运行打开相同路径即可触发登录\n//为了更愉快的写文章\n//可以给配置中再加个command,里面写上hexo clean "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" hexo g\n//即每次写完总是重新生成静态文件，方便一些\n")])])]),n("hr"),t._v(" "),n("h3",{attrs:{id:"_6-部署到-github-5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-部署到-github-5"}},[t._v("#")]),t._v(" 6. 部署到 github[^5]")]),t._v(" "),n("h4",{attrs:{id:"_1-安装插件并配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装插件并配置"}},[t._v("#")]),t._v(" (1). 安装插件并配置")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("//先安装部署到github上所需要的插件\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" hexo-deployer-git --save\n\n//进入根目录修改__config.yml文件\ndeploy:\n  type: "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v("\n  repo: git@github.com:OwnerName/OwnerName.github.io.git\n  branch: master\n")])])]),n("h4",{attrs:{id:"_2-配置-github-并部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置-github-并部署"}},[t._v("#")]),t._v(" (2). 配置 github 并部署")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("//生成ssh keys\nssh-add ~/.ssh/id_rsa\n\n//然后\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ~/.ssh\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" gedit id_rsa.pub\n\n//将内容复制下来后，登陆github，右上角进入settings\n//选择SSH and GPG keys\n//然后new SSH key，将复制的内容粘贴上去，保存\n\n//新建一个respository\n//命名为OwnerName.github.io\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" -T git@github.com\t//测试连接是否成功\n\n//出现下列语句则表明已经连上\nHi wispyoureyes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" You've successfully authenticated,\nbut GitHub does not provide shell access.\n\n//接下来\nhexo clean\nhexo g\nhexo d\t//即可部署上去，之所以hexo clean，hexo g，是重新生成防止有坑\n")])])]),n("hr"),t._v(" "),n("h3",{attrs:{id:"_7-提交给搜索引擎-以下是各搜索引擎对应的站点提交入口】"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-提交给搜索引擎-以下是各搜索引擎对应的站点提交入口】"}},[t._v("#")]),t._v(" 7. 提交给搜索引擎 [^ 以下是各搜索引擎对应的站点提交入口】")]),t._v(" "),n("ul",{staticStyle:{"font-size":"16px","list-style-type":"decimal"}},[n("li",[n("a",{attrs:{href:"https://zn.baidu.com/site/index#/",target:"_blank",rel:"external nofollow"}},[t._v("百度站长平台")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://search.google.com/search-console?resource_id=sc-domain%3Ajarrychen.xyz",target:"_blank",rel:"external nofollow"}},[t._v("Google站长平台")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.bing.com/webmaster/home/mysites",target:"_blank",rel:"external nofollow"}},[t._v("Bing站长平台")])]),t._v(" "),n("li",[n("a",{attrs:{href:"http://zhanzhang.so.com/sitetool/site_manage",target:"_blank",rel:"external nofollow"}},[t._v("360站长平台")])]),t._v(" "),n("li",[n("a",{attrs:{href:"http://zhanzhang.sogou.com/index.php/statistics/index",target:"_blank",rel:"external nofollow"}},[t._v("搜狗站长平台")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://searchadvisor.naver.com/console/wmt/board",target:"_blank",rel:"external nofollow"}},[t._v("Naver站长平台(韩)")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://webmaster.yandex.ru/sites/?noRedirect=yes&hostnameFilter=",target:"_blank",rel:"external nofollow"}},[t._v("Yandex站长平台(俄)")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://zhanzhang.sm.cn/open/detialPage",target:"_blank",rel:"external nofollow"}},[t._v("神马站长平台")])])]),t._v(" "),n("br"),t._v(" "),n("p",[t._v("[^1]: "),n("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[t._v("nodejs 官网"),n("OutboundLink")],1),t._v("\n[^2]: "),n("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("git 官网"),n("OutboundLink")],1),t._v("\n[^3]: "),n("a",{attrs:{href:"https://hexo.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("hexo 官网"),n("OutboundLink")],1),t._v("\n[^4]: "),n("a",{attrs:{href:"https://github.com/honjun/hexo-theme-sakura/blob/master/README-zh_cn.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sakura 中文文档"),n("OutboundLink")],1),t._v("\n[^5]: "),n("a",{attrs:{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("github 官网"),n("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);